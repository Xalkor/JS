<HEAD>
<SCRIPT>
function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i <ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return null;
}
function setCookie(cname, cvalue, time) {
    var d = new Date();
    d.setTime(time);
    var expires = "expires="+ d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}
function delCookie (name) {
     var expireNow = new Date();
     document.cookie = name + "=" +
     "; expires=Thu, 01-Jan-70 00:00:01 GMT" +  "; path=/";
}
var cookieName = "cName";
	
function  init(){
	if (getCookie(cookieName) != null){
             alert("Welcome, " + getCookie(cookieName));
        }else{
		var w = document.createElement("h1");
		w.innerHTML = "Enter your name";
		document.body.appendChild(w);
		
		var x = document.createElement("FORM");
		x.setAttribute("name", "myForm");
		document.body.appendChild(x);

		var y = document.createElement("INPUT");
		y.setAttribute("type", "text");
		y.setAttribute("name", "user_name");	
		y.setAttribute("value", "");	
		document.myForm.appendChild(y);
		
		var z = document.createElement("INPUT");
		z.setAttribute("type", "button");
		z.setAttribute("name", "Done");	
		z.setAttribute("value", "Done");
		z.setAttribute("onClick", "process()");
		document.myForm.appendChild(z);
	}
}

function process(){
	var expdate = new Date();
	expdate.setTime(expdate.getTime() +  (24 * 60 * 60 * 1000 * 365));
	setCookie(cookieName, document.myForm.user_name.value,expdate);
	alert("Welcome, " + getCookie(cookieName));
}	
</SCRIPT>
</HEAD>
<BODY onLoad = "init()">
<title>ws9e8</title>

</BODY>
